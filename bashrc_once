# This only runs once, so should set environment variables
# and such here. They will be exported to child processes.

# Locale settings
export LANGUAGE="en_US:en"
export LC_MESSAGES="en_US.UTF-8"
export LC_CTYPE="en_US.UTF-8"
export LC_COLLATE="en_US.UTF-8"

# My scripts
export PATH=$HOME/bin:${PATH}

# Python startup file
export PYTHONSTARTUP=~/.pystartup

# CVS
export CVS_RSH=ssh
export CVSEDITOR=vim

# Allow for a system-specific .bashrc_interactive file specified locally
if [ -f ${HOME}/.bashrc_once_local ]; then
  source ${HOME}/.bashrc_once_local
fi

# Allow for a system-specific bashrc_once_${HOST} in tentacle/
# eg. if ~/tentacle/bashrc_once_muon5 exists, source it.
# However, don't source it again if it was linked from *_once, above
BRCD_HOSTPRENAME=$(hostname | cut -d "." -f 1)
# Guard against sourcing the same file again by checking device and inode
if [ -f "${PRF}bashrc_once_${BRCD_HOSTPRENAME}" ]; then
  if [ ! "${HOME}/.bashrc_once_local" \
       -ef "${PRF}bashrc_once_${BRCD_HOSTPRENAME}" ]; then
    source "${PRF}bashrc_once_${BRCD_HOSTPRENAME}"
  fi
fi
unset BRCD_HOSTPRENAME
